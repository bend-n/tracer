[gd_scene load_steps=55 format=3 uid="uid://0x720q7tnsj0"]

[ext_resource type="Script" path="res://ui/editor/tree.gd" id="1_65spq"]
[ext_resource type="Theme" uid="uid://d3ywcokn5ddy8" path="res://ui/theme.tres" id="1_cc7dd"]
[ext_resource type="StyleBox" uid="uid://dxtsrhgnyr80k" path="res://ui/panel_dark.stylebox" id="2_l1cwd"]
[ext_resource type="Script" path="res://ui/editor/items.gd" id="2_q16oo"]
[ext_resource type="Script" path="res://ui/editor/track_editor.gd" id="3_50gj4"]
[ext_resource type="Script" path="res://ui/editor/propertys.gd" id="5_v84um"]
[ext_resource type="Script" path="res://ui/editor/cam.gd" id="6_o7q05"]
[ext_resource type="ButtonGroup" uid="uid://oio3aly7aeny" path="res://ui/editor/group.tres" id="6_vgj8v"]
[ext_resource type="Script" path="res://ui/editor/port.gd" id="7_ftio3"]
[ext_resource type="Script" path="res://ui/editor/back_button.gd" id="7_r0vjt"]
[ext_resource type="Script" path="res://ui/editor/save.gd" id="7_saajs"]
[ext_resource type="Script" path="res://ui/editor/export.gd" id="9_nra4c"]
[ext_resource type="Theme" uid="uid://bds815vxta4ma" path="res://ui/editor/bar_button.tres" id="9_x2saf"]
[ext_resource type="Resource" uid="uid://djgoj7p7on11f" path="res://ui/editor/editor_fs.tres" id="11_ijop2"]
[ext_resource type="Script" path="res://ui/multi_button.gd" id="11_nar81"]
[ext_resource type="Script" path="res://ui/editor/delete.gd" id="13_agg2r"]
[ext_resource type="Script" path="res://ui/editor/undo.gd" id="13_bgr8w"]
[ext_resource type="StyleBox" uid="uid://bg21fak47r0np" path="res://ui/panel_light.stylebox" id="13_cyvq7"]
[ext_resource type="Script" path="res://ui/editor/redo.gd" id="14_2ypjq"]
[ext_resource type="Script" path="res://ui/editor/wall_tool_button.gd" id="15_t20tf"]
[ext_resource type="Script" path="res://ui/editor/duplicate.gd" id="17_7y8ae"]
[ext_resource type="Script" path="res://ui/editor/hatch.gd" id="17_ugqw3"]
[ext_resource type="Script" path="res://ui/editor/mousecast.gd" id="19_hmpi3"]
[ext_resource type="Shader" path="res://ui/editor/selection.gdshader" id="22_sij02"]

[sub_resource type="InputEventKey" id="InputEventKey_8ix4j"]
device = -1
ctrl_pressed = true
keycode = 83
unicode = 115

[sub_resource type="Shortcut" id="Shortcut_3gcv0"]
events = [SubResource("InputEventKey_8ix4j")]

[sub_resource type="InputEventKey" id="InputEventKey_tmkac"]
device = -1
ctrl_pressed = true
keycode = 69
unicode = 101

[sub_resource type="Shortcut" id="Shortcut_uhpqg"]
events = [SubResource("InputEventKey_tmkac")]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_1bugq"]
bg_color = Color(0.027451, 0.211765, 0.258824, 1)
corner_radius_top_left = 15
corner_radius_top_right = 15

[sub_resource type="InputEventKey" id="InputEventKey_w2y01"]
device = -1
keycode = 81
unicode = 113

[sub_resource type="Shortcut" id="Shortcut_5skl8"]
events = [SubResource("InputEventKey_w2y01")]

[sub_resource type="InputEventKey" id="InputEventKey_yfrw1"]
device = -1
keycode = 87
unicode = 119

[sub_resource type="Shortcut" id="Shortcut_njwdg"]
events = [SubResource("InputEventKey_yfrw1")]

[sub_resource type="InputEventKey" id="InputEventKey_wcb2q"]
device = -1
keycode = 69
unicode = 101

[sub_resource type="Shortcut" id="Shortcut_tekm2"]
events = [SubResource("InputEventKey_wcb2q")]

[sub_resource type="InputEventKey" id="InputEventKey_xodsd"]
device = -1
keycode = 67
unicode = 99

[sub_resource type="Shortcut" id="Shortcut_p3vb8"]
events = [SubResource("InputEventKey_xodsd")]

[sub_resource type="InputEventKey" id="InputEventKey_nyu56"]
device = -1
shift_pressed = true
keycode = 71
unicode = 71

[sub_resource type="Shortcut" id="Shortcut_tet3e"]
events = [SubResource("InputEventKey_nyu56")]

[sub_resource type="LabelSettings" id="LabelSettings_6nqim"]
font_size = 12
font_color = Color(0.14902, 0.545098, 0.823529, 1)
outline_size = 10
outline_color = Color(0.027451, 0.211765, 0.258824, 1)

[sub_resource type="InputEventKey" id="InputEventKey_s0wgx"]
device = -1
keycode = 68
unicode = 100

[sub_resource type="Shortcut" id="Shortcut_6c6fh"]
events = [SubResource("InputEventKey_s0wgx")]

[sub_resource type="InputEventKey" id="InputEventKey_eddoh"]
device = -1
ctrl_pressed = true
keycode = 90
unicode = 122

[sub_resource type="Shortcut" id="Shortcut_kampb"]
events = [SubResource("InputEventKey_eddoh")]

[sub_resource type="InputEventKey" id="InputEventKey_r2b0g"]
device = -1
ctrl_pressed = true
keycode = 89
unicode = 121

[sub_resource type="InputEventKey" id="InputEventKey_m7yhl"]
device = -1
shift_pressed = true
ctrl_pressed = true
keycode = 90
unicode = 90

[sub_resource type="Shortcut" id="Shortcut_6jonl"]
events = [SubResource("InputEventKey_r2b0g"), SubResource("InputEventKey_m7yhl")]

[sub_resource type="InputEventKey" id="InputEventKey_53uh0"]
device = -1
keycode = 4194308

[sub_resource type="InputEventKey" id="InputEventKey_uh7no"]
device = -1
keycode = 4194312

[sub_resource type="Shortcut" id="Shortcut_4byk3"]
events = [SubResource("InputEventKey_53uh0"), SubResource("InputEventKey_uh7no")]

[sub_resource type="InputEventKey" id="InputEventKey_hnh1d"]
device = -1
ctrl_pressed = true
keycode = 68
unicode = 100

[sub_resource type="Shortcut" id="Shortcut_5hxvg"]
events = [SubResource("InputEventKey_hnh1d")]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7qcnf"]
bg_color = Color(0, 0, 0, 1)
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15
corner_detail = 12
anti_aliasing_size = 0.397

[sub_resource type="ShaderMaterial" id="ShaderMaterial_y3yf4"]
shader = ExtResource("22_sij02")
shader_parameter/bg_color = Color(0, 0, 0, 0.1)
shader_parameter/dash_color = 1.0
shader_parameter/empty_color = 0.0

[node name="TrackEditor" type="PanelContainer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme = ExtResource("1_cc7dd")
theme_override_styles/panel = ExtResource("2_l1cwd")
script = ExtResource("3_50gj4")
group = ExtResource("6_vgj8v")

[node name="split" type="HSplitContainer" parent="."]
layout_mode = 2

[node name="left dock" type="VSplitContainer" parent="split"]
layout_mode = 2
size_flags_horizontal = 3

[node name="data" type="PanelContainer" parent="split/left dock"]
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/panel = ExtResource("13_cyvq7")

[node name="container" type="VBoxContainer" parent="split/left dock/data"]
layout_mode = 2

[node name="buttons" type="HFlowContainer" parent="split/left dock/data/container"]
layout_mode = 2
theme = ExtResource("9_x2saf")

[node name="back" type="Button" parent="split/left dock/data/container/buttons"]
custom_minimum_size = Vector2(30, 0)
layout_mode = 2
text = " "
script = ExtResource("7_r0vjt")

[node name="vsep" type="VSeparator" parent="split/left dock/data/container/buttons"]
layout_mode = 2

[node name="save" type="Button" parent="split/left dock/data/container/buttons"]
unique_name_in_owner = true
custom_minimum_size = Vector2(40, 50)
layout_mode = 2
tooltip_text = "Save track (Ctrl+S)"
shortcut = SubResource("Shortcut_3gcv0")
shortcut_in_tooltip = false
text = "󰆓
"
script = ExtResource("7_saajs")

[node name="export" type="Button" parent="split/left dock/data/container/buttons"]
custom_minimum_size = Vector2(20, 50)
layout_mode = 2
tooltip_text = "Export track to clipboard (Ctrl+E)"
shortcut = SubResource("Shortcut_uhpqg")
shortcut_in_tooltip = false
text = "󰈝"
script = ExtResource("9_nra4c")

[node name="propertys" type="Tree" parent="split/left dock/data/container"]
unique_name_in_owner = true
layout_mode = 2
size_flags_vertical = 3
columns = 2
hide_root = true
script = ExtResource("5_v84um")

[node name="fs" type="VSplitContainer" parent="split/left dock"]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 2.29

[node name="fs tree" type="Tree" parent="split/left dock/fs"]
layout_mode = 2
size_flags_vertical = 3
hide_root = true
scroll_horizontal_enabled = false
script = ExtResource("1_65spq")
root_fs = ExtResource("11_ijop2")

[node name="items" type="ItemList" parent="split/left dock/fs"]
unique_name_in_owner = true
layout_mode = 2
size_flags_vertical = 3
theme_override_font_sizes/font_size = 24
max_columns = 3
icon_mode = 0
fixed_icon_size = Vector2i(64, 64)
script = ExtResource("2_q16oo")

[node name="split2" type="HSplitContainer" parent="split"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 3.45

[node name="middle dock" type="VBoxContainer" parent="split/split2"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 2.72
mouse_filter = 2
theme_override_constants/separation = 0

[node name="buttons" type="PanelContainer" parent="split/split2/middle dock"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_1bugq")

[node name="container" type="HFlowContainer" parent="split/split2/middle dock/buttons"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2
theme = ExtResource("9_x2saf")
theme_override_constants/h_separation = 0

[node name="select" type="Button" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(40, 50)
layout_mode = 2
tooltip_text = "Select mode (Q)"
theme = ExtResource("9_x2saf")
toggle_mode = true
button_pressed = true
button_group = ExtResource("6_vgj8v")
shortcut = SubResource("Shortcut_5skl8")
shortcut_in_tooltip = false
text = "󰇀"

[node name="sep" type="VSeparator" parent="split/split2/middle dock/buttons/container"]
layout_mode = 2

[node name="move" type="Button" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(40, 50)
layout_mode = 2
tooltip_text = "Move Mode (W)"
theme = ExtResource("9_x2saf")
toggle_mode = true
button_group = ExtResource("6_vgj8v")
shortcut = SubResource("Shortcut_njwdg")
shortcut_in_tooltip = false
text = "󰆾"

[node name="rotate" type="Button" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(40, 50)
layout_mode = 2
tooltip_text = "Rotate Mode (E)"
theme = ExtResource("9_x2saf")
toggle_mode = true
button_group = ExtResource("6_vgj8v")
shortcut = SubResource("Shortcut_tekm2")
shortcut_in_tooltip = false
text = "󰶘"

[node name="scale" type="Button" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(40, 50)
layout_mode = 2
tooltip_text = "Scale Mode (C)"
theme = ExtResource("9_x2saf")
toggle_mode = true
button_group = ExtResource("6_vgj8v")
shortcut = SubResource("Shortcut_p3vb8")
shortcut_in_tooltip = false
text = "󰘖"

[node name="spacer" type="Control" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(4, 0)
layout_mode = 2

[node name="sep2" type="VSeparator" parent="split/split2/middle dock/buttons/container"]
layout_mode = 2

[node name="snapping" type="Button" parent="split/split2/middle dock/buttons/container" node_paths=PackedStringArray("secondary")]
custom_minimum_size = Vector2(40, 50)
layout_mode = 2
tooltip_text = "Use Grid Snap (Shift+G)"
theme = ExtResource("9_x2saf")
toggle_mode = true
button_pressed = true
action_mode = 0
shortcut = SubResource("Shortcut_tet3e")
shortcut_in_tooltip = false
text = " 󰋁 "
script = ExtResource("11_nar81")
secondary = NodePath("magnet")

[node name="magnet" type="Label" parent="split/split2/middle dock/buttons/container/snapping"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 30.0
offset_top = 38.0
offset_right = 30.0
offset_bottom = 38.0
grow_horizontal = 2
grow_vertical = 2
rotation = 3.14159
text = "󰍇"
label_settings = SubResource("LabelSettings_6nqim")

[node name="sep4" type="VSeparator" parent="split/split2/middle dock/buttons/container"]
layout_mode = 2

[node name="wall tool" type="Button" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(40, 0)
layout_mode = 2
tooltip_text = "Wall Tool (D)"
disabled = true
shortcut = SubResource("Shortcut_6c6fh")
shortcut_in_tooltip = false
text = "󰟾"
script = ExtResource("15_t20tf")

[node name="spacer2" type="Control" parent="split/split2/middle dock/buttons/container"]
layout_mode = 2
size_flags_horizontal = 3

[node name="undo" type="Button" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(40, 0)
layout_mode = 2
tooltip_text = "Undo (Ctrl + Z)"
disabled = true
shortcut = SubResource("Shortcut_kampb")
shortcut_in_tooltip = false
text = "󰕌"
script = ExtResource("13_bgr8w")

[node name="redo" type="Button" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(40, 0)
layout_mode = 2
tooltip_text = "Redo (Ctrl + Y | Ctrl + Shift + Z)"
disabled = true
shortcut = SubResource("Shortcut_6jonl")
shortcut_in_tooltip = false
text = "󰑎 "
script = ExtResource("14_2ypjq")

[node name="sep3" type="VSeparator" parent="split/split2/middle dock/buttons/container"]
layout_mode = 2

[node name="delete" type="Button" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(40, 0)
layout_mode = 2
tooltip_text = "Delete selected object (Backspace | Delete)"
disabled = true
shortcut = SubResource("Shortcut_4byk3")
shortcut_in_tooltip = false
text = "  "
script = ExtResource("13_agg2r")

[node name="duplicate" type="Button" parent="split/split2/middle dock/buttons/container"]
custom_minimum_size = Vector2(40, 0)
layout_mode = 2
tooltip_text = "Duplicate (Ctrl + D)"
disabled = true
shortcut = SubResource("Shortcut_5hxvg")
text = "󰆏 "
script = ExtResource("17_7y8ae")

[node name="viewport" type="PanelContainer" parent="split/split2/middle dock"]
clip_children = 1
layout_mode = 2
size_flags_vertical = 3
mouse_filter = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_7qcnf")

[node name="view" type="SubViewportContainer" parent="split/split2/middle dock/viewport"]
unique_name_in_owner = true
layout_mode = 2
stretch = true
script = ExtResource("17_ugqw3")

[node name="port" type="SubViewport" parent="split/split2/middle dock/viewport/view"]
unique_name_in_owner = true
handle_input_locally = false
physics_object_picking = true
size = Vector2i(1067, 1010)
render_target_update_mode = 4
script = ExtResource("7_ftio3")

[node name="mousecast" type="RayCast3D" parent="split/split2/middle dock/viewport/view/port"]
unique_name_in_owner = true
enabled = false
collision_mask = 2147483648
script = ExtResource("19_hmpi3")

[node name="area" type="ColorRect" parent="split/split2/middle dock/viewport/view/port/mousecast"]
visible = false
material = SubResource("ShaderMaterial_y3yf4")

[node name="cam" type="Camera3D" parent="split/split2/middle dock/viewport/view/port"]
unique_name_in_owner = true
script = ExtResource("6_o7q05")

[node name="right dock" type="VBoxContainer" parent="split/split2"]
layout_mode = 2
size_flags_horizontal = 3

[node name="inspector" type="PanelContainer" parent="split/split2/right dock"]
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/panel = ExtResource("13_cyvq7")

[connection signal="make_gizmo" from="." to="split/split2/middle dock/viewport/view/port" method="update_gizmo"]
[connection signal="selection_changed" from="." to="split/split2/middle dock/buttons/container/delete" method="_on_selection_changed"]
[connection signal="selection_changed" from="." to="split/split2/middle dock/buttons/container/duplicate" method="_on_selection_changed"]
[connection signal="back" from="split/left dock/data/container/buttons/back" to="." method="queue_free"]
[connection signal="pressed" from="split/left dock/data/container/buttons/back" to="split/left dock/data/container/buttons/back" method="_on_pressed"]
[connection signal="pressed" from="split/left dock/data/container/buttons/save" to="split/left dock/data/container/buttons/save" method="_on_pressed"]
[connection signal="item_edited" from="split/left dock/data/container/propertys" to="split/left dock/data/container/propertys" method="_on_item_edited"]
[connection signal="name_changed" from="split/left dock/data/container/propertys" to="." method="_on_propertys_name_changed"]
[connection signal="cell_selected" from="split/left dock/fs/fs tree" to="split/left dock/fs/fs tree" method="_on_cell_selected"]
[connection signal="cell_selected" from="split/left dock/fs/fs tree" to="split/left dock/fs/fs tree" method="expand_selected"]
[connection signal="selected_dir" from="split/left dock/fs/fs tree" to="split/left dock/fs/items" method="open_dir"]
[connection signal="dir_selected" from="split/left dock/fs/items" to="split/left dock/fs/fs tree" method="_on_items_dir_selected"]
[connection signal="dir_selected" from="split/left dock/fs/items" to="split/left dock/fs/fs tree" method="expand_selected" unbinds=1]
[connection signal="toggled" from="split/split2/middle dock/buttons/container/snapping" to="." method="_on_snapping_toggled"]
[connection signal="pressed" from="split/split2/middle dock/buttons/container/delete" to="." method="_on_delete_pressed"]
[connection signal="created" from="split/split2/middle dock/viewport/view" to="." method="_on_item_created"]
[connection signal="created" from="split/split2/middle dock/viewport/view" to="split/split2/middle dock/viewport/view/port/mousecast" method="_on_view_created" unbinds=1]
[connection signal="remove_tobj" from="split/split2/middle dock/viewport/view" to="." method="_on_remove_tobj"]
[connection signal="remove_tobj" from="split/split2/middle dock/viewport/view" to="split/split2/middle dock/viewport/view/port" method="_on_remove_tobj" unbinds=1]
[connection signal="hit" from="split/split2/middle dock/viewport/view/port/mousecast" to="." method="_on_mousecast_hit"]
